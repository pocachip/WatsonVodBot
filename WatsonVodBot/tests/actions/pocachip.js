//var myJSON = '{ "matching_results": 1, "results": [ { "id": "e7e629e2-0893-4b48-8303-7be1a5f013ee", "result_metadata": { "score": 1.7462783 }, "movieListResult": { "totCnt": 3184, "source": "영화진흥위원회", "movieList": [ { "directors": [ { "peopleNm": "류승완" } ], "nationAlt": "한국", "movieNm": "군함도", "repGenreNm": "액션", } ] }, "extracted_metadata": { "sha1": "62e7b98c83b302f5cfa0ec2ff7020580d6a9cdb6", "filename": "29.json", "file_type": "json" } } ] }';
var myJSON = '{ "matching_results": 1, "results": [{ "id": "e7e629e2-0893-4b48-8303-7be1a5f013ee", "result_metadata": { "score": 1.7462783 } , "movieListResult": { "totCnt": 3184, "source": "영화진흥위원회", "movieList":[{"movieNm": "군함도", "repGenreNm": "액션"}]}}]}'; var myJSON = '{ "matching_results": 25, "passages": [], "results": [ { "id": "e7e629e2-0893-4b48-8303-7be1a5f013ee", "result_metadata": { "score": 0.17017065 }, "movieListResult": { "totCnt": 3184, "source": "영화진흥위원회", "movieList": [ { "directors": [ { "peopleNm": "류승완" } ], "nationAlt": "한국", "movieCd": "20161481", "genreAlt": "액션,드라마", "repNationNm": "한국", "typeNm": "장편", "prdtStatNm": "개봉", "movieNm": "군함도", "prdtYear": "2017", "openDt": "20170726", "movieNmEn": "The Battleship Island", "repGenreNm": "액션", "companys": [ { "companyCd": "20100374", "companyNm": "(주)외유내강" } ] } ] }, "extracted_metadata": { "sha1": "62e7b98c83b302f5cfa0ec2ff7020580d6a9cdb6", "filename": "29.json", "file_type": "json" }, "highlight": { "movieListResult.movieList.movieNmEn": [ "The <em>Battleship</em> Island" ] } }, { "id": "b246b4c0-0810-4b57-9800-93d56f01355a", "result_metadata": { "score": 0.15578078 }, "movieListResult": { "totCnt": 3184, "source": "영화진흥위원회", "movieList": [ { "directors": [ { "peopleNm": "긴다이치 코고로" } ], "nationAlt": "일본", "movieCd": "20174101", "genreAlt": "드라마", "repNationNm": "일본", "typeNm": "장편", "prdtStatNm": "개봉", "movieNm": "길들여 주세요", "prdtYear": "2016", "openDt": "20170330", "movieNmEn": "Do M for me", "repGenreNm": "드라마", "companys": [] } ] }, "extracted_metadata": { "sha1": "b90a89406b9e16cba9a9efa9672abc2204dec3bd", "filename": "1358.json", "file_type": "json" }, "highlight": { "movieListResult.movieList.movieNmEn": [ "<em>Do</em> M for me" ] } }, { "id": "202a627a-1779-4553-8a1e-758d3a987af4", "result_metadata": { "score": 0.15578078 }, "movieListResult": { "totCnt": 3184, "source": "영화진흥위원회", "movieList": [ { "directors": [ { "peopleNm": "라몬 테르멘스" } ], "nationAlt": "스페인", "movieCd": "20173524", "genreAlt": "스릴러,범죄", "repNationNm": "스페인", "typeNm": "장편", "prdtStatNm": "개봉", "movieNm": "더 킬러", "prdtYear": "2015", "openDt": "20170928", "movieNmEn": "Evil That Men Do", "repGenreNm": "스릴러", "companys": [] } ] }, "extracted_metadata": { "sha1": "5ab785112983efd6e088153ca0c4204c69d90910", "filename": "458.json", "file_type": "json" }, "highlight": { "movieListResult.movieList.movieNmEn": [ "Evil That Men <em>Do</em>" ] } }, { "id": "8057149a-5d44-4d0c-aa3d-14a2619e533f", "result_metadata": { "score": 0.15578078 }, "movieListResult": { "totCnt": 3184, "source": "영화진흥위원회", "movieList": [ { "directors": [ { "peopleNm": "고희영" } ], "nationAlt": "한국", "movieCd": "20142706", "genreAlt": "다큐멘터리", "repNationNm": "한국", "typeNm": "장편", "prdtStatNm": "개봉", "movieNm": "시소", "prdtYear": "2016", "openDt": "20161110", "movieNmEn": "SEE-SAW", "repGenreNm": "다큐멘터리", "companys": [ { "companyCd": "20139236", "companyNm": "(주)에스엠 컬처앤콘텐츠" } ] } ] }, "extracted_metadata": { "sha1": "bfe97979f0e03dd7b50a7893ecf465af43683a19", "filename": "933.json", "file_type": "json" }, "highlight": { "movieListResult.movieList.movieNmEn": [ "<em>SEE</em>-SAW" ] } }, { "id": "92ea7981-38ce-4196-9889-3a9c62202c19", "result_metadata": { "score": 0.14595649 }, "movieListResult": { "totCnt": 3184, "source": "영화진흥위원회", "movieList": [ { "directors": [ { "peopleNm": "조성규" } ], "nationAlt": "한국", "movieCd": "20166128", "genreAlt": "판타지,드라마", "repNationNm": "한국", "typeNm": "장편", "prdtStatNm": "개봉", "movieNm": "어떻게 헤어질까", "prdtYear": "2016", "openDt": "20161103", "movieNmEn": "How to Break up with My Cat", "repGenreNm": "판타지", "companys": [ { "companyCd": "20141039", "companyNm": "하준사" } ] } ] }, "extracted_metadata": { "sha1": "2182987d775eae6417e338380c1349d11f2853ad", "filename": "847.json", "file_type": "json" }, "highlight": { "movieListResult.movieList.movieNmEn": [ "<em>How</em> to Break up with My Cat" ] } }, { "id": "62332d62-e297-43ee-98d7-29dfd11d28d4", "result_metadata": { "score": 0.1298173 }, "movieListResult": { "totCnt": 3184, "source": "영화진흥위원회", "movieList": [ { "directors": [ { "peopleNm": "데이비드 비커스태프" }, { "peopleNm": "필 그랩스키" } ], "nationAlt": "영국", "movieCd": "20170682", "genreAlt": "다큐멘터리", "repNationNm": "영국", "typeNm": "장편", "prdtStatNm": "개봉", "movieNm": "빈센트 반 고흐 : 새로운 시선", "prdtYear": "2015", "openDt": "20170824", "movieNmEn": "Vincent Van Gogh : A New Way of Seeing", "repGenreNm": "다큐멘터리", "companys": [] } ] }, "extracted_metadata": { "sha1": "70fff2a06f9549e4e9f6dcc71f5715a2c59af365", "filename": "655.json", "file_type": "json" }, "highlight": { "movieListResult.movieList.movieNmEn": [ "Vincent Van Gogh : A New Way of <em>Seeing</em>" ] } }, { "id": "b39b5707-1bc4-4fac-9ce5-3351232e0508", "result_metadata": { "score": 0.12163041 }, "movieListResult": { "totCnt": 3184, "source": "영화진흥위원회", "movieList": [ { "directors": [ { "peopleNm": "제레미 라론드" } ], "nationAlt": "캐나다", "movieCd": "20164767", "genreAlt": "코미디", "repNationNm": "캐나다", "typeNm": "장편", "prdtStatNm": "개봉", "movieNm": "하우 투 플랜 언 오지 인 어 스몰 타운", "prdtYear": "2015", "openDt": "20161114", "movieNmEn": "How to Plan an Orgy in a Small Town", "repGenreNm": "코미디", "companys": [] } ] }, "extracted_metadata": { "sha1": "99c05c5dc84b8b713611e05a5bd1580281f99451", "filename": "1985.json", "file_type": "json" }, "highlight": { "movieListResult.movieList.movieNmEn": [ "<em>How</em> to Plan an Orgy in a Small Town" ] } }, { "id": "e3b4d6a4-c7d0-4eff-9765-658c5a4b0665", "result_metadata": { "score": 0.12163041 }, "movieListResult": { "totCnt": 3184, "source": "영화진흥위원회", "movieList": [ { "directors": [ { "peopleNm": "우수바시 수이" } ], "nationAlt": "일본", "movieCd": "20178045", "genreAlt": "성인물(에로)", "repNationNm": "일본", "typeNm": "장편", "prdtStatNm": "개봉", "movieNm": "주부의 타락-너도 그래", "prdtYear": "2016", "openDt": "20170720", "movieNmEn": "It is beautiful enough to become indecent～How to seduce a beautiful young wife～", "repGenreNm": "성인물(에로)", "companys": [] } ] }, "extracted_metadata": { "sha1": "35125019bcfa9276bebc56c3fcbd109b40a32fd4", "filename": "810.json", "file_type": "json" }, "highlight": { "movieListResult.movieList.movieNmEn": [ "It is beautiful enough to become indecent～<em>How</em> to seduce a beautiful young wife～" ] } }, { "id": "7d1e491f-af8e-4610-bf17-8f7bc056db1e", "result_metadata": { "score": 0.09980174 }, "movieListResult": { "totCnt": 3184, "source": "영화진흥위원회", "movieList": [ { "directors": [ { "peopleNm": "긴다이치 코고로" } ], "nationAlt": "일본", "movieCd": "20179223", "genreAlt": "드라마", "repNationNm": "일본", "typeNm": "장편", "prdtStatNm": "개봉", "movieNm": "20대 같은 40대 미시녀", "prdtYear": "2015", "openDt": "20170110", "movieNmEn": "The reason I remove the wedding ring", "repGenreNm": "드라마", "companys": [] } ] }, "extracted_metadata": { "sha1": "a470010b142ad0672ef290a25251f9b80a8bb116", "filename": "1725.json", "file_type": "json" }, "highlight": { "movieListResult.movieList.movieNmEn": [ "The reason <em>I</em> remove the wedding ring" ] } }, { "id": "0a4bb9dd-c009-4456-8dec-6fb2e8d2e2ce", "result_metadata": { "score": 0.09980174 }, "movieListResult": { "totCnt": 3184, "source": "영화진흥위원회", "movieList": [ { "directors": [ { "peopleNm": "주지홍" } ], "nationAlt": "한국", "movieCd": "20150966", "genreAlt": "코미디,멜로/로맨스", "repNationNm": "한국", "typeNm": "장편", "prdtStatNm": "개봉", "movieNm": "사랑하기 때문에", "prdtYear": "2016", "openDt": "20170104", "movieNmEn": "BECAUSE I LOVE YOU", "repGenreNm": "코미디", "companys": [ { "companyCd": "20062097", "companyNm": "(주)에이디사공육" } ] } ] }, "extracted_metadata": { "sha1": "565a3e9c1aa553e81907439908b54f51bcc01662", "filename": "1731.json", "file_type": "json" }, "highlight": { "movieListResult.movieList.movieNmEn": [ "BECAUSE <em>I</em> LOVE YOU" ] } } ] }';
//console.log(myObj.matching_results);
//console.log('---------------------');
//console.log(myObj.results);
//console.log('---------------------');
//console.log(myObj.results[0]);
//console.log('---------------------');
//console.log(myObj.results[0].movieListResult);
//console.log('---------------------');
//console.log(myObj.results[0].movieListResult.movieList);
//console.log('---------------------');
//console.log(myObj.results[0].movieListResult.movieList[0]);
//console.log('---------------------');
//console.log(myObj.results[0].movieListResult.movieList[0].movieNm);
var myObj = JSON.parse(myJSON);
var i = 0;
var discoveryResults = [];
while (myObj.results[i] && i < 10) {
    let Base = myObj.results[i].movieListResult.movieList[0];
    discoveryResults[i] = {
            body: Base.movieNm,
            bodySnippet:Base.movieNmEn,
            confidence: myObj.results[i].result_metadata.score,
            id: myObj.results[i].id,
            sourceUrl: Base.genreAlt,
            title: myObj.results[i].movieListResult.source,
            openDt: Base.openDt
            //movieNm: Base.movieNm,
            //movieNmEn:Base.movieNmEn,
            //nationAlt: Base.nationAlt,
            //genreAlt: Base.genreAlt,
            //directors: ( typeof Base.directors[0] ? Base.directors[0].peopleNm : ''),
//           // companys: ( typeof Base.companys[0] && typeof Base.companys[0].companyNm ? Base.companys[0].companyNm : ''),
            //openDt: Base.openDt
    };
    console.log(discoveryResults);
//console.log(Base.movieList[0].nationAlt);
//console.log(Base.movieList[0].genreAlt);
//console.log(Base.movieList[0].openDt);
//console.log(Base.movieList[0].companys[0].companyNm);
//console.log(Base.movieList[0].directors[0].peopleNm);
    i++;
};
console.log('---------------------');

